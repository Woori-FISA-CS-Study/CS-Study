## 💾 DBMS (Database Management System)

- DB : 데이터의 집합
- DBMS : DB를 관리하고 운영하는 소프트웨어 <br>
  다양한 데이터가 저장되어 있는 데이터베이스는 여러 명의 사용자나 응용 프로그램과 공유하고 동시에 접근이 가능해야 한다.

![image](https://github.com/Woori-FISA-CS-Study/CS-Study/assets/65431814/15792fe5-de5b-4c84-b32a-73de8d84a1fa)

- DBMS 유형 : 관계형(Relational), 계층형(Hierarchical), 망형(Network) 등등

![image](https://github.com/Woori-FISA-CS-Study/CS-Study/assets/65431814/6ab9b632-b3dd-4d8d-807c-be12db481930)

<br>
<br>

## 💾 RDBMS (Relational DataBase Management System)

- 관계형 데이터베이스 관리 시스템 : 여러 관계가 있는 데이터를 구조화된 테이블 형태로 저장하고 관리하는 시스템

- 테이블은 행(row)과 열(column)로 구성되어 있으며 열은 데이터의 속성, 행은 개별 데이터를 나타낸다.

![image](https://github.com/Woori-FISA-CS-Study/CS-Study/assets/65431814/a9170b55-29cf-47d4-9576-e45c810e6b70)

<br>

### 😃 RDBMS의 장점

- 명확한 스키마 : 데이터베이스의 구조가 명확하게 정의되어 있어 잘못된 데이터 입력 또는 처리를 사전에 방지할 수 있다.
  - 스키마 : 데이터베이스를 구성하는 데이터와 데이터의 성질, 데이터 간의 관계 및 제약조건에 관한 정의를 총칭
- ACID 규정 준수 : 트랜잭션의 ACID 원칙(Atomicity, Consistency, Isolation, Durability)을 따른다.
  따라서 데이터의 일관성을 유지하고 오류가 발생하지 않도록 무결성을 보장한다.
- 중복 X : 정규화라는 설계 기법을 사용할 수 있기 때문에 데이터의 중복을 없앨 수 있다.
- 공동작업 편리 : 여러 사용자가 동시에 데이터에 접근할 수 있다.
  기본으로 제공되는 잠금 및 보안 기능으로 특정 사용자가 업데이트하는 도중 다른 사용자가 데이터에 액세스할 수 없게 할 수 있다.
  또한 데이터 접근 권한을 특정 사용자로 제한할 수 있다.
- SQL 사용 : SQL은 데이터베이스 질의를 위한 표준화된 언어로, 대부분의 RDBMS에서 공통적으로 사용된다.
  이를 통해 사용자가 다양한 데이터베이스 시스템에서 쿼리를 쉽게 작성하고 이해할 수 있다.

![image](https://github.com/Woori-FISA-CS-Study/CS-Study/assets/65431814/38db6109-91a1-43f7-85d6-6e0a69c469e6)

<br>

### 😫 RDBMS의 단점

- 유연성 부족 : 사전에 정의된 고정된 스키마를 사용하므로 데이터 구조의 변경이 필요할 때 유연하게 대응하기 어렵다.
- 확장성 부족 : RDBMS는 일반적으로 비용이 많이 드는 수직 확장(Scale-Up, 하드웨어 업그레이드)에 의존하기에 분산된 환경에서의 수평 확장(Scale-Out, 서버 수 증가)가 어렵다.
  - RDBMS는 왜 수직 확장을 주로 사용?
    -> RDBMS는 처음부터 데이터의 무결성, 일관성 등의 특성을 중요하게 여기는 환경에 최적화된 시스템으로 설계되었다.
    이런 특성을 유지하면서 여러 시스템에 데이터를 분산시키는 것(수평 확장)은 어렵다.
    따라서 수직 확장, 즉 하나의 시스템의 성능 자체를 향상시키는 방식(수직 확장)을 주로 사용한다.
    ex) CPU, RAM, 디스크 등의 하드웨어 업그레이드
- 쿼리의 복잡성 증가 : 데이터들이 관계를 맺고 있기 때문에 시스템이 커질 경우 JOIN문이 많은 복잡한 쿼리가 만들어질 수 있다.

<br>

### 📚 RDBMS의 예

#### MySQL

스웨덴의 회사인 MySQL AB에서 처음 개발<br>
대부분의 운영체제와 호환되며 가장 많이 쓰이는 데이터베이스
대용량 데이터베이스를 위해 설계되어 있다.<br>
쿼리 캐시를 지원해 입력된 쿼리 문에 대한 전체 결과 집합을 저장하기에 사용자가 작성한 쿼리가 캐시에 있는 쿼리와 동일하면 서버는 단순히 구문 분석, 최적화 및 실행을 건너뛰고 캐시의 출력만 표시한다.

#### PostSQL

미국의 캘리포니아 버클리 대학의 POSTGRES 프로젝트에서 발전한 오픈 소스 데이터베이스<br>
MySQL 다음으로 개발자들이 선호하는 데이터베이스 기술
VACUUM 명령을 사용하는 것이 특징이다.

- VACUUM : 디스크 조각이 차지하는 영역을 회수할 수 있어 데이터베이스의 테이블을 정리하고 최적화하는 역할을 한다.<br>
  기본적으로 PostSQL에서는 행을 삭제하면 실제로 즉시 그 행을 제거하는 것이 아니라 해당 행을 '삭제됨'으로 표시하는데 VACUUM 명령어가 '삭제됨'으로 표시된 행을 제거하고, 그 공간을 재사용 가능하게 만든다.

#### Oracle

미국의 오라클 사가 개발<br>
오라클은 대용량 데이터 처리에 견딜 수 있는 강력한 성능과 뛰어난 확장성을 제공하며, 대규모 비즈니스에 널리 사용된다.
PL/SQL이라는 자체 프로그래밍 언어를 제공한다.

#### MSSQL (Microsoft SQL Server)

마이크로소프트가 개발<br>
주로 윈도우 환경에서 사용된다.<br>
사용하기 쉬운 GUI 관리 도구를 제공하고 마이크로소프트의 다른 기술과의 통합이 용이하다는 장점이 있다.
Transact-SQL(T-SQL)을 제공한다.

<br>

### 🧐 RDBMS는 언제 사용하는 것이 좋을까?

- 데이터 구조가 명확하며 변경 될 여지가 없으며 명확한 스키마가 중요한 경우 사용하는 것이 좋다.
- 중복된 데이터가 없어(데이터 무결성) 변경이 용이하기 때문에 관계를 맺고 있는 데이터가 자주 변경이 이루어지는 시스템에 적합하다.

<br>
<br>

## 💾 NoSQL

관계형 데이터베이스를 제외한 모든 데이터베이스 유형을 총칭하며, SQL을 사용하지 않는 데이터베이스

- 관계형 테이블과는 다른 방식으로 데이터를 저장한다.
  데이터 유형에 따라 다양한 유형을 갖추고 있으며, 주요 유형으로는 문서, 키 값, 와이드 컬럼, 그래프 등이 있다.
- 레코드를 documents(문서), 테이블을 collection(컬렉션)이라고 부른다.

![image](https://github.com/Woori-FISA-CS-Study/CS-Study/assets/65431814/b9dbcde4-2442-4f50-8bde-1403bb76a4ae)

<br>

### 🤔 왜 RDBMS가 아닌 NoSQL을 사용하는가?

- RDBMS에 큰 용량의 데이터를 사용하면 응답 시간이 느려지는데 느린 응답시간을 해결하기 위해 scale up을 한다.
- scale up은 하드웨어를 업그레이드 하는것으로 비용이 많이 든다는 단점이 있다.
- 이를 해결하는 것이 고성능의 하드웨어를 사는 대신 여러 서버로 분산하는 scale-out

![image](https://github.com/Woori-FISA-CS-Study/CS-Study/assets/65431814/54674304-c01e-48c0-a256-da4d23d1b340)

<br>

### 😃 NoSQL의 장점

![image](https://github.com/Woori-FISA-CS-Study/CS-Study/assets/65431814/326d5aeb-ff8c-4cb8-abb0-0b9ee881475c)

- 유연성 : 고정된 스키마가 없기 때문에(schema less) 데이터 구조를 자유롭게 변경할 수 있어 애플리케이션의 요구사항이 변경될 때 유연하게 대응할 수 있다.

- 확장성 : 분산 시스템에 기반을 두고 있어 수평 확장이 용이하다.
  즉, 데이터베이스의 용량을 증가시키려면 서버를 추가하기만 하면 된다.

- 고성능 : 고정된 스키마가 없고 데이터베이스의 처리 용량을 쉽게 확장할 수 있으므로 구조가 다양한 대용량의 데이터를 처리할 수 있다.

- 가용성 : 여러 대의 백업 서버 구성이 가능하여 장애 발생 시에도 무중단 서비스가 가능하다.

<br>

### 😫 NoSQL의 단점

- 일관성 부족 : 분산된 환경이고 트랜잭션의 ACID 원칙을 따르지 않아 데이터의 일관성을 보장하기가 어렵다.

- 데이터 중복 : 데이터가 중복될 수 있으며 변경이 필요한 경우, 해당 데이터가 들어간 모든 컬렉션을 업데이트해야 한다.

- 표준 언어 부재 : 다양한 유형의 데이터마다 다른 모델을 사용하기에 SQL처럼 표준화된 쿼리 언어가 없다.

<br>

### 📚 NoSQL의 예

#### MongoDB

미국의 MongoDB Inc.에서 개발<br>
JSON을 통해 데이터에 접근할 수 있고 BSON(Binary JSON) 형식으로 데이터가 저장된다.<br>
도큐먼트를 생성할 때마다 고유한 값인 ObjectID가 생성된다.
확장성이 뛰어나 빅데이터 저장시 성능이 좋고 스키마를 정해놓지 않고 데이터를 삽입할 수 있다.<br>
다양한 도메인의 데이터베이스를 기반으로 분석, 로깅 등을 구현할 때 강점이 있다.

#### redis

이탈리아 출신의 개발자인 Salvatore Sanfilippo가 처음에는 개인 프로젝트로 개발했으나 이후 오픈소스로 발전
인메모리 데이터베이스이자 키-값 데이터 모델 기반 데이터베이스이다.<br>
가장 큰 특징은 모든 데이터를 메모리에 저장하고 처리한다는 것으로, 디스크 I/O가 필요 없어 극도로 빠른 성능을 제공한다.
또한 데이터의 영속성을 지원하는 기능도 제공한다.<br>
모든 데이터를 메모리에 저장하는 동시에 디스크에 데이터를 저장하여 시스템 장애 시 데이터 손실을 방지할 수 있다.
채팅 시스템, 실시간 순위표 서비스 등에 사용한다.

<br>

### 🧐 NoSQL은 언제 사용하는 것이 좋을까?

- 정확한 데이터 구조를 알 수 없고 데이터가 변경/확장이 될 수 있는 경우에 사용하는 것이 좋다.
- 데이터 중복이 발생할 수 있고 중복된 데이터가 변경될 시에는 모든 컬렉션에서 수정을 해야 하기에 업데이트가 많이 이루어지지 않는 시스템이 좋다.
- Scale-out이 가능하므로 대용량의 데이터를 저장해야 할 때 적합하다.

<br>

### 🆚 RDBMS vs NoSQL 간단 비교

![image](https://github.com/Woori-FISA-CS-Study/CS-Study/assets/65431814/b7ecc000-197a-4ce3-a5d1-65c830c5d0e9)

<br>
<br>

## ❓ 면접 질문

<details>
<summary>RDBMS와 NoSQL의 주요 차이점은?</summary>
<div markdown="1">

RDBMS는 스키마가 고정되어 있고, 트랜잭션의 ACID 원칙을 준수합니다.
또한 시스템이 커질 수록 쿼리가 복잡해지고 성능이 저하되며 Scale-out이 어렵습니다.
하지만 NoSQL은 스키마가 고정되지 않아 유연성이 높지고 데이터의 분산 처리가 용이하지만 데이터 중복이 발생할 수 있습니다.
또한 scale-up 뿐만 아니라 scale-out 또한 가능합니다.

</div>
</details>

<details>
<summary>그렇다면 RDBMS와 NoSQL은 어느 경우에 적합한가?</summary>
<div markdown="1">

RDBMS는 데이터 구조가 명확하고 변경 될 여지가 없는 경우 사용하는 것이 좋습니다.
또한 중복된 데이터가 없어 관계를 맺고 있는 데이터가 자주 변경이 이루어지는 시스템에 적합합니다.
NoSQL은 정확한 데이터 구조를 알 수 없고 데이터가 변경/확장 될 수 있는 경우에 사용하는 것이 좋습니다.
또한 업데이트가 많이 이루어지지 않는 시스템과 DB를 Scale-out 해야 되는 시스템에 적합합니다.

</div>
</details>
